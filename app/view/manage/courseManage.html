{% extends "manage/parent.html" %}

{% block cssfolder %}
<link rel="stylesheet" href="../public/manage/css/lib/iview.css">
<link rel="stylesheet" href="../public/manage/css/src/basic.css">
<link rel="stylesheet" href="../public/manage/css/src/courseManage.css">
{% endblock %}


{% block right %}
<div class="right">
    {% block headMenu %}
        <div class="headMenu">
            <div class="leftTabs">
                <i-button class="tabsBtn active" type="text">课程管理</i-button>
                <i-button class="tabsBtn" type="text" to="/manage/personalManage">人员管理</i-button>
                <i-button class="tabsBtn" type="text" to="/manage/userRecord">信息查看</i-button>
            </div>
            <div class="rightUserInfo">
                <img class="headImg" src="../public/images/user.png">
                <span class="username">skhdbsb</span>
            </div>
        </div>
    {% endblock %}
    <!-- 课程管理选项 -->
    <div class="filtrMenu">
        <div class="filtrLeft">
            <div class="storeInfo">
                <label>店铺选择:</label>
                <i-select v-model="shopId" style="width:200px;" @on-change="stopChange" placeholder="店铺">
                    <i-option v-for="item in stopData" :value="item.value" :key="item.value" :label="item.label" ></i-option>
                </i-select>
            </div>
            <div class="dateInfo">
                <label>课程时间选择:</label>
                <i-select v-model="year" style="width:100px;margin-left:10px;" @on-change="yearChange" placeholder="年份">
                    <i-option v-for="item in yearData" :value="item.value" :key="item.value" :label="item.label" ></i-option>
                </i-select>
                <i-select v-model="month" style="width:100px;margin-left:10px;" @on-change="monthChange"  placeholder="月份">
                    <i-option v-for="item in monthData" :value="item.value" :key="item.value" :label="item.label" ></i-option>
                </i-select>
                <i-select v-model="week" style="width:100px;margin-left:10px;" @on-change="weekChange" placeholder="星期">
                    <i-option v-for="item in weekData" :value="item.value" :key="item.value" :label="item.label" ></i-option>
                </i-select>
            </div>
        </div>
        <div class="filtrRight">
            <!-- <i-button class="editBtn">编辑</i-button>
            <i-button class="saveBtn">保存</i-button> -->
            <i-button class="uploadBtn" @click="submitCourseChoose">上传</i-button>
        </div>
    </div>
    <!-- 课程管理选项 -->

    <!-- 课程详情 -->
    <div class="box">
        <div class="courseContainer">
            <div class="headView">
                <div class="monthImg">
                    <div class="text" v-text="month + '月'"></div>
                </div>
                <!-- 一周日期标题 -->
                <div class="weekTime">

                    <div class="Mon" v-for="(item,index) in dateData">
                        <label class="title" v-text="dateData[index]"></label>
                        <label v-if="dayData[aWeekDateArr[2] + index] <= monthHasDays" class="time" v-text="aWeekDateArr[1] + '/' + dayData[aWeekDateArr[2] + index]"></label>
                        <label v-else class="time" v-text="aWeekDateArr[1] + 1 + '/' + bothMonthDayArr[index]"></label>
                    </div>
                </div>
            </div>

            <div class="contentView">
                <!-- 每天课程时间表 -->
                <div class="timeView">
                    <div class="firstTime">
                        <label class="title">第一节</label>
                        <label class="time">09:00—10:00</label>
                    </div>
                    <div class="secondTime">
                        <label class="title">第二节</label>
                        <label class="time">13:00—14:00</label>
                    </div>
                    <div class="thirdTime">
                        <label class="title">第三节</label>
                        <label class="time">16:00—17:00</label>

                    </div>
                    <div class="fourthTime">
                        <label class="title">第四节</label>
                        <label class="time">19:00—20:00</label>

                    </div>
                </div>
                <div class="courseView">
                    <!-- 周一至周日 -->
                    <div class="weekDay" v-for="weekItem in [0,1,2,3,4,5,6]">
                        <!-- 一到四节课 -->
                        <div class="courseTime" v-for="timeItem in [1,2,3,4]">
                            <!-- <div v-text=""></div> -->
                            <div class="courseImgs">
                                <!-- 基础课程图片 -->
                                <img v-if="dayData[aWeekDateArr[2] + weekItem] <= monthHasDays" class="mainCourseImg" :src="timeItem.courseThumbA?timeItem.courseThumbA:'../public/images/1.png'" @click="changeMainCourse(year,month,dayData[aWeekDateArr[2] + weekItem],timeItem)" title="编辑基础课程">
                                <img v-else class="mainCourseImg" :src="timeItem.courseThumbA?timeItem.courseThumbA:'../public/images/1.png'" @click="changeMainCourse(year,(aWeekDateArr[1] + 1),bothMonthDayArr[weekItem],timeItem)" title="编辑基础课程">

                                <!-- 运动课程图片 -->
                                <img v-if="dayData[aWeekDateArr[2] + weekItem] <= monthHasDays" class="mainCourseImg" :src="timeItem.courseThumbA?timeItem.courseThumbA:'../public/images/2.png'" @click="changeSportCourse(year,month,dayData[aWeekDateArr[2] + weekItem],timeItem)" title="编辑运动课程">
                                <img v-else class="mainCourseImg" :src="timeItem.courseThumbA?timeItem.courseThumbA:'../public/images/2.png'" @click="changeSportCourse(year,(aWeekDateArr[1] + 1),bothMonthDayArr[weekItem],timeItem)" title="编辑运动课程">
                                <!-- <img class="otherCourseImg" src="../public/images/2.png" @click="changeSportCourse(1)"title="编辑运动课程"> -->
                            </div>
                            <div class="courseNames">
                                <span v-if="dayData[aWeekDateArr[2] + weekItem] <= monthHasDays" class="mainCourseName" @click="changeMainCourse(year,month,dayData[aWeekDateArr[2] + weekItem],timeItem)" title="编辑基础课程" v-text="year + '-' + aWeekDateArr[1] + '-' + dayData[aWeekDateArr[2] + weekItem] + '-' + timeItem"></span>
                                <span v-else class="mainCourseName" @click="changeMainCourse(year,(aWeekDateArr[1] + 1),bothMonthDayArr[weekItem],timeItem)" title="编辑基础课程" v-text="year + '-' + (aWeekDateArr[1] + 1) + '-' + bothMonthDayArr[weekItem] + '-' + timeItem"></span>




                                <!-- <span class="otherCourseName" @click="changeSportCourse(1)" title="编辑运动课程">《篮球》</span> -->
                                <span v-if="dayData[aWeekDateArr[2] + weekItem] <= monthHasDays" class="otherCourseName" @click="changeSportCourse(year,month,dayData[aWeekDateArr[2] + weekItem],timeItem)" title="编辑运动课程" v-text="year + '-' + aWeekDateArr[1] + '-' + dayData[aWeekDateArr[2] + weekItem] + '-' + timeItem"></span>
                                <span v-else class="otherCourseName" @click="changeSportCourse(year,(aWeekDateArr[1] + 1),bothMonthDayArr[weekItem],timeItem)" title="编辑运动课程" v-text="year + '-' + (aWeekDateArr[1] + 1) + '-' + bothMonthDayArr[weekItem] + '-' + timeItem"></span>
                            </div>
                            <div v-if="dayData[aWeekDateArr[2] + weekItem] <= monthHasDays" class="teacherName" @click="changeTeacher(year,month,dayData[aWeekDateArr[2] + weekItem],timeItem)" title="编辑老师">授课老师：李小华</div>
                            <div v-else class="teacherName" @click="changeTeacher(year,(aWeekDateArr[1] + 1),bothMonthDayArr[weekItem],timeItem)" title="编辑老师">授课老师：李小华</div>
                            <div class="students">
                                <i-button class="studentListBtn" @click="">学生名单</i-button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
    <!-- 课程详情 end -->
</div>
{% endblock %}

{% block models %}
    <!-- 基础选课右侧弹出框 -->
    <div class="mainCourseModel" :class="{active:mainModelActive}">
        <p class="mianCourseTitle">基础课程选课中心</p>
        <i-input class="mainCourseSearch" v-model="searchMainCourseValue" placeholder="搜索" search @on-search="searchMainCourseEvent"></i-input>
        <div class="mianCourseTypes">
            <div class="all" :class="{active:subTypeMainAllIsActive}" @click="mainCourseSubTypeChange(0)">全部</div>
            <div class="idiomStory" :class="{active:subTypeStoryIsActive}" @click="mainCourseSubTypeChange(1)">成语故事</div>
            <div class="childSong" :class="{active:subTypeSongIsActive}" @click="mainCourseSubTypeChange(2)">儿童诗歌</div>
        </div>
        <div class="mainCourseResultList">
            <div class="mainCourseItem" v-for="(item,index) in mainCourseDate">
                <img class="mainCourseImg" :src="item.courseThumbA ? item.courseThumbA : '../public/images/1.png'" alt="">
                <div class="mainCourseInfo">
                    <p class="title" v-text="item.courseName"></p>
                    <div class="des" v-text="item.courseAbstract"></div>
                    <i-button class="submit" @click="chooseTheMainCourse(index)">确认选择</i-button>
                </div>
            </div>
        </div>
    </div>
    <!-- 基础选课右侧弹出框 end -->

    <!-- 辅助选课右侧弹出框 -->
    <div class="sportCourseModel" :class="{active:sportModelActive}">
        <p class="sportCourseTitle">运动课程选课中心</p>
        <i-input class="sportCourseSearch" v-model="searchSportCourseValue" placeholder="搜索" search @on-search="searchSportCourseEvent"></i-input>
        <div class="sportCourseTypes">
            <div class="all" :class="{active:subTypeSportAllIsActive}" @click="sportCourseSubTypeChange(0)">全部</div>
            <div class="basketball" :class="{active:subTypeBasketballIsActive}" @click="sportCourseSubTypeChange(5)">篮球</div>
        </div>
        <div class="sportCourseResultList">
            <div class="sportCourseItem" v-for="(item,index) in sportCourseDate">
                <img class="sportCourseImg" :src="item.courseThumbA ? item.courseThumbA : '../public/images/2.png'">
                <div class="sportCourseInfo">
                    <p class="title" v-text="item.courseName"></p>
                    <div class="des" v-text="item.courseAbstract"></div>
                    <i-button class="submit" @click="chooseTheSportCourse(index)">确认选择</i-button>
                </div>
            </div>
        </div>
    </div>
    <!-- 辅助选课右侧弹出框 end -->

    <!-- 教师选择中心右侧弹出框 -->
    <div class="teacherCourseModel" :class="{active:teacherModelActive}">
        <p class="tearcherCourseTitle">教师选择中心</p>
        <i-input class="teacherCourseSearch" v-model="searchTeacherourseValue" placeholder="搜索" search @on-search="searchTeacherCourseEvent"></i-input>
        <div class="teacherCourseTypes">
            <div class="all active">全部</div>
        </div>
        <div class="teacherCourseResultList">
            <div class="teacherCourseItem">
                <img class="teacherCourseImg" src="../public/images/3.png" alt="">
                <div class="teacherCourseInfo">
                    <p class="title">教师名称：李小华</p>
                    <div class="des">
                        <span class="age">年龄：20岁</span>
                        <span class="jobNum">工号：10086</span>
                        <span class="gender">性别：男</span>
                    </div>
                    <div class="selectNum">
                        已选次数：20次
                    </div>
                    <i-button class="submit" @click="chooseTheTeacherCourse(1)">确认选择</i-button>
                </div>
            </div>
        </div>
    </div>
    <!-- 课程老师右侧弹出框 end -->
{% endblock %}


{% block jsfolder %}
	<script type="text/javascript" src="../public/manage/js/lib/jquery.min.js"></script>
    <script type="text/javascript" src="../public/manage/js/lib/vue.min.js"></script>
	<script type="text/javascript" src="../public/manage/js/lib/iview.min.js"></script>
	<script type="text/javascript" src="../public/manage/js/src/config.js"></script>
	<script type="text/javascript" src="../public/manage/js/src/courseManage.js"></script>
{% endblock %}
